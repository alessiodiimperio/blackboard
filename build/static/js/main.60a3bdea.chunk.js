(this.webpackJsonpblackboard=this.webpackJsonpblackboard||[]).push([[0],{40:function(e,t,n){e.exports=n(74)},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),l=n(23),c=n.n(l),s=(n(45),n(6)),o=(n(46),n(47),n(14)),i=n.n(o);i.a.initializeApp({apiKey:"AIzaSyDJNVeuY3AVgr88L1wJtdCcD4AFUQ3qux0",authDomain:"wall-of-tags.firebaseapp.com",databaseURL:"https://wall-of-tags.firebaseio.com",projectId:"wall-of-tags",storageBucket:"wall-of-tags.appspot.com",messagingSenderId:"988587985235",appId:"1:988587985235:web:d2145957e4525ebacff9a6",measurementId:"G-5NGZ4253X3"});var u=i.a.auth(),m=Object(a.createContext)(),d=function(e){var t=e.reducer,n=e.initialState,l=e.children;return r.a.createElement(m.Provider,{value:Object(a.useReducer)(t,n)},l)},p=function(){return Object(a.useContext)(m)},f=n(33),h=n.n(f);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function C(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var g=function(e){var t=e.svgRef,n=e.title,a=C(e,["svgRef","title"]);return r.a.createElement("svg",b({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t},a),n?r.a.createElement("title",null,n):null,r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M418.88,344.021L364.011,324.928C360,323.563 355.542,324.651 352.64,327.787C325.739,357.163 291.413,373.334 256,373.334C220.587,373.334 186.261,357.163 159.36,327.809C156.48,324.673 152,323.585 147.989,324.95L93.12,344.043C37.419,363.392 0,416.021 0,475.008L0,490.667C0,496.555 4.779,501.334 10.667,501.334L501.334,501.334C507.222,501.334 512.001,496.555 512.001,490.667L512.001,475.008C512,416.021 474.581,363.392 418.88,344.021Z",style:{fill:"white",fillRule:"nonzero"}}))),r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M224,181.333L202.667,181.333C196.779,181.333 192,186.112 192,192C192,197.888 196.779,202.667 202.667,202.667L224,202.667C229.888,202.667 234.667,197.888 234.667,192C234.667,186.112 229.888,181.333 224,181.333Z",style:{fill:"white",fillRule:"nonzero"}})),r.a.createElement("g",null,r.a.createElement("path",{d:"M309.333,181.333L288,181.333C282.112,181.333 277.333,186.112 277.333,192C277.333,197.888 282.112,202.667 288,202.667L309.333,202.667C315.221,202.667 320,197.888 320,192C320,186.112 315.221,181.333 309.333,181.333Z",style:{fill:"white",fillRule:"nonzero"}})),r.a.createElement("g",null,r.a.createElement("path",{d:"M369.643,222.229C363.883,220.8 358.144,224.277 356.715,230.016C341.781,290.219 301.312,330.667 256,330.667C210.688,330.667 170.219,290.219 155.285,230.016C153.856,224.277 148.053,220.8 142.357,222.229C136.64,223.637 133.162,229.44 134.57,235.157C151.915,305.045 200.704,352 256,352C311.296,352 360.085,305.045 377.429,235.157C378.837,229.44 375.36,223.637 369.643,222.229Z",style:{fill:"white",fillRule:"nonzero"}})),r.a.createElement("g",null,r.a.createElement("path",{d:"M336.576,236.437C331.627,233.173 325.056,234.496 321.792,239.402L306.795,261.909C304.811,264.896 301.483,266.666 297.92,266.666L293.995,266.666C289.088,266.666 284.843,263.338 283.136,257.066L276.501,241.215C274.837,237.247 270.976,234.666 266.666,234.666L245.333,234.666C241.024,234.666 237.162,237.247 235.477,241.237L228.352,258.602C227.157,263.359 222.912,266.687 218.005,266.687L214.08,266.687C210.517,266.687 207.189,264.916 205.205,261.93L190.208,239.423C186.944,234.495 180.331,233.194 175.424,236.458C170.517,239.722 169.195,246.335 172.459,251.242L187.456,273.749C193.408,282.667 203.371,288 214.08,288L218.005,288C232.725,288 245.482,278.037 248.554,265.301L252.437,256L259.626,256L262.954,263.765C266.517,278.037 279.295,288 293.994,288L297.919,288C308.628,288 318.591,282.667 324.543,273.728L339.54,251.221C342.805,246.315 341.483,239.701 336.576,236.437Z",style:{fill:"white",fillRule:"nonzero"}})),r.a.createElement("g",null,r.a.createElement("path",{d:"M222.784,229.717C220.032,224.512 213.632,222.464 208.384,225.216C200.811,229.184 176.085,234.667 149.333,234.667C143.445,234.667 138.666,239.446 138.666,245.334C138.666,251.222 143.445,256 149.333,256C179.37,256 207.274,249.877 218.282,244.117C223.509,241.387 225.515,234.944 222.784,229.717Z",style:{fill:"white",fillRule:"nonzero"}})),r.a.createElement("g",null,r.a.createElement("path",{d:"M362.667,234.667C335.915,234.667 311.19,229.184 303.616,225.216C298.389,222.464 291.947,224.512 289.216,229.717C286.485,234.944 288.491,241.386 293.717,244.117C304.725,249.877 332.629,256 362.666,256C368.554,256 373.333,251.221 373.333,245.333C373.333,239.445 368.555,234.667 362.667,234.667Z",style:{fill:"white",fillRule:"nonzero"}})),r.a.createElement("g",null,r.a.createElement("path",{d:"M241.643,151.915C232.747,144.235 187.158,107.094 163.136,131.115C158.976,135.275 158.976,142.038 163.136,146.198C167.296,150.358 174.059,150.358 178.219,146.198C185.152,139.307 211.712,154.283 227.712,168.065C229.739,169.814 232.192,170.668 234.667,170.668C237.654,170.668 240.64,169.409 242.752,166.956C246.592,162.496 246.101,155.776 241.643,151.915Z",style:{fill:"white",fillRule:"nonzero"}})),r.a.createElement("path",{d:"M348.864,131.136C324.864,107.157 279.253,144.256 270.357,151.936C265.898,155.797 265.408,162.517 269.248,166.976C271.36,169.408 274.325,170.667 277.333,170.667C279.808,170.667 282.282,169.814 284.288,168.086C300.309,154.283 326.912,139.35 333.781,146.219C337.941,150.379 344.704,150.379 348.864,146.219C353.024,142.059 353.024,135.296 348.864,131.136Z",style:{fill:"white",fillRule:"nonzero"}}),r.a.createElement("g",null,r.a.createElement("path",{d:"M268.416,288.128C262.592,287.083 257.109,291.093 256.149,296.896L256,297.771L255.851,296.918C254.891,291.115 249.366,287.105 243.584,288.15C237.781,289.11 233.856,294.614 234.816,300.417L245.483,364.417C246.336,369.558 250.774,373.334 256,373.334C261.226,373.334 265.664,369.558 266.517,364.395L277.184,300.395C278.165,294.592 274.219,289.088 268.416,288.128Z",style:{fill:"white",fillRule:"nonzero"}})))),r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M256,10.667C185.493,10.667 130.261,66.902 130.261,138.667C130.261,144.555 135.04,149.334 140.928,149.334C146.816,149.334 151.595,144.555 151.595,138.667C151.595,78.848 197.44,32 256,32C314.56,32 360.405,78.848 360.405,138.667C360.405,144.555 365.184,149.334 371.072,149.334C376.96,149.334 381.739,144.555 381.739,138.667C381.739,66.901 326.507,10.667 256,10.667Z",style:{fill:"white",fillRule:"nonzero"}}))),r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M377.877,75.669C332.288,54.272 259.2,53.355 255.915,53.333C252.822,53.354 179.734,54.272 134.144,75.669C130.24,77.504 127.829,81.493 128,85.781L134.272,233.024C134.528,238.933 139.669,243.627 145.387,243.243C151.275,242.987 155.84,238.016 155.584,232.128L149.632,92.203C191.467,75.478 255.424,74.667 255.893,74.667C256.576,74.667 320.512,75.478 362.368,92.203L356.416,232.128C356.16,238.016 360.725,242.987 366.613,243.243L367.082,243.243C372.757,243.243 377.493,238.763 377.749,233.024L384,85.781C384.171,81.493 381.76,77.504 377.877,75.669Z",style:{fill:"white",fillRule:"nonzero"}}))),r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M363.989,72.853C341.269,33.92 300.885,10.667 256,10.667C211.115,10.667 170.731,33.92 148.011,72.853C145.771,76.65 146.134,81.45 148.886,84.885C151.638,88.341 156.246,89.749 160.427,88.405C201.75,75.349 255.552,74.666 255.894,74.666C256.427,74.666 310.166,75.327 351.574,88.405C352.619,88.746 353.707,88.896 354.774,88.896C357.953,88.896 361.046,87.467 363.115,84.885C365.867,81.451 366.229,76.651 363.989,72.853Z",style:{fill:"white",fillRule:"nonzero"}}))))},E=r.a.forwardRef((function(e,t){return r.a.createElement(g,b({svgRef:t},e))}));n.p;var v=function(){var e=p(),t=Object(s.a)(e,2),n=t[0].user,a=t[1];return r.a.createElement("div",{className:"header-container"},r.a.createElement("div",{className:"header-text"},r.a.createElement("p",null,"Posting as ",n.username)),r.a.createElement("div",{className:"header-avatar"},r.a.createElement("button",{className:"header-btn",onClick:function(){if(console.log(n),n.signedAsAnonymous){a({type:"SIGN_OUT",user:{username:"",email:"",id:"",signedAsAnonymous:!1,signedAsUser:!1}})}else u.signOut().then((function(){console.log("signed out of firebase auth");a({type:"SIGN_OUT",user:{username:"",email:"",id:"",signedAsAnonymous:!1,signedAsUser:!1}})})).catch((function(e){console.log("Error: ",e)}))}},n.id?r.a.createElement(h.a,{className:"header-icon"}):r.a.createElement(E,{className:"header-icon"})),r.a.createElement("span",{className:"sign-out-btn-txt"},"Leave")))},O=n(4),y=n(9),j=n.n(y),N=n(15),w=n(11),L=(n(65),n(66),n(38)),S=n.n(L);var x=function(e){var t=e.title,n=e.author,l=e.authorId,o=e.date,i=e.time,u=e.id,m=e.onDelete,d=e.onEdit,f=p(),h=Object(s.a)(f,2),b=h[0],C=(b.posts,b.user),g=(h[1],Object(a.useState)(t)),E=Object(s.a)(g,2),v=E[0],O=E[1],y=Object(a.useState)(!1),j=Object(s.a)(y,2),N=j[0],w=j[1],L=Object(a.useState)("Edit"),x=Object(s.a)(L,2),A=x[0],I=x[1],T=Object(a.useRef)(null),k=N?"btn btn-success edit-btn":"btn btn-primary edit-btn",D=l!==C.id||C.signedAsAnonymous?"buttons-container-hidden":"buttons-container";return Object(a.useEffect)((function(){(console.log("in effect"),N)?(I("Done"),c.a.findDOMNode(T.current).focus()):(I("Edit"),d({title:v,author:n,authorId:l,date:o,time:i,id:u}))}),[N]),r.a.createElement("div",{className:"post-container"},r.a.createElement("div",{className:"post-object"},r.a.createElement("div",{className:"post-title"},r.a.createElement("h1",{className:"title-text"},'"'),r.a.createElement("h1",{className:"title-innertext"},r.a.createElement(S.a,{ref:T,onChange:function(e){O(e.target.value)},disabled:!N,html:"".concat(v)})),r.a.createElement("h1",{className:"title-text"},'"')),r.a.createElement("div",{className:"post-info"},r.a.createElement("p",{className:"author-text"},n,"-"),r.a.createElement("p",{className:"date-text"},o)),r.a.createElement("div",{className:D},r.a.createElement("button",{className:"btn btn-danger delete-btn",onClick:function(){return m(u)}},"Delete"),r.a.createElement("button",{className:k,onClick:function(e){w(!N)}},A))))},A="https://us-central1-wall-of-tags.cloudfunctions.net/posts/";var I=function(){var e=p(),t=Object(s.a)(e,2),n=t[0].posts,l=t[1];Object(a.useEffect)((function(){(function(){var e=Object(w.a)(j.a.mark((function e(){var t,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(A);case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,(a=Object(N.a)(n)).sort((function(e,t){var n=e.date.replace(/-/g,"")+e.time.replace(/:/g,""),a=t.date.replace(/-/g,"")+t.time.replace(/:/g,"");return console.log(n,a),parseInt(n)<parseInt(a)})),l({type:"INIT_WALL",posts:a});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var c=function(){var e=Object(w.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(),e.next=3,fetch(A+t,{method:"DELETE"}).then((function(e){u(),e.ok&&l({type:"DELETE_POST",id:t})})).catch((function(e){u(),console.log(e.message)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(w.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(),Object(O.a)({},t),e.next=4,fetch(A+t.id,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 4:n=e.sent,u(),n.ok&&l({type:"EDIT_POST",post:t});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){l({type:"START_LOADING"})},u=function(){l({type:"STOP_LOADING"})};return r.a.createElement("div",{className:"wall-container"},r.a.createElement("div",{className:"wall-content"},n.map((function(e){return r.a.createElement(x,{key:e.id,id:null===e||void 0===e?void 0:e.id,title:null===e||void 0===e?void 0:e.title,author:null===e||void 0===e?void 0:e.author,authorId:null===e||void 0===e?void 0:e.authorId,date:null===e||void 0===e?void 0:e.date,time:null===e||void 0===e?void 0:e.time,onDelete:c,onEdit:o})}))))};n(71);var T=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],l=t[1],c=p(),o=Object(s.a)(c,2),i=o[0],u=(i.posts,i.user),m=o[1],d=function(){var e=Object(w.a)(j.a.mark((function e(){var t,a,r,l,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return alert("Please type something in the textfield."),e.abrupt("return");case 3:return e.prev=3,f(),t=new Date,a=new Date(t).toISOString().split("T")[0],r=new Date(t).toISOString().split("T")[1].split(".")[0],l={author:u.username,authorId:u.id,title:n,date:a,time:r},e.next=11,fetch("https://us-central1-wall-of-tags.cloudfunctions.net/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});case 11:return c=e.sent,e.next=14,c.json();case 14:s=e.sent,l=Object(O.a)(Object(O.a)({},l),{},{id:s.id}),m({type:"ADD_POST",post:l}),h(),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(3),alert(e.t0.message),h();case 24:case"end":return e.stop()}}),e,null,[[3,20]])})));return function(){return e.apply(this,arguments)}}(),f=function(){m({type:"START_LOADING"})},h=function(){m({type:"STOP_LOADING"})};return r.a.createElement("div",{className:"input-field-container"},r.a.createElement("input",{value:n,onChange:function(e){l(e.target.value)},className:"text-input",type:"text",placeholder:"What do you want to post?"}),r.a.createElement("button",{className:"btn-primary button-submit",onClick:d},"Submit"))};n(72);var k=function(){var e=i.a.auth(),t=Object(a.useState)(""),n=Object(s.a)(t,2),l=n[0],c=n[1],o=Object(a.useState)(""),u=Object(s.a)(o,2),m=u[0],d=u[1],f=Object(a.useState)(""),h=Object(s.a)(f,2),b=h[0],C=h[1],g="https://us-central1-wall-of-tags.cloudfunctions.net/posts/user/",E=p(),v=Object(s.a)(E,2),O=(v[0].user,v[1]),y=function(){O({type:"START_LOADING"})},N=function(){O({type:"STOP_LOADING"})},L=function(){var t=Object(w.a)(j.a.mark((function t(){var n,a,r,l;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m&&b){t.next=3;break}return S("Email and password are required for signing in."),t.abrupt("return");case 3:return t.prev=3,y(),t.next=7,e.signInWithEmailAndPassword(m,b);case 7:return n=t.sent,t.next=10,fetch(g+n.user.uid);case 10:return a=t.sent,t.next=13,a.json();case 13:r=t.sent,console.log("userobject ",r),l={username:r.username,email:r.email,id:r.id,signedAsAnonymous:!1,signedAsUser:!0},N(),O({type:"SIGN_IN",user:l}),t.next=24;break;case 20:t.prev=20,t.t0=t.catch(3),N(),S(t.t0.message);case 24:case"end":return t.stop()}}),t,null,[[3,20]])})));return function(){return t.apply(this,arguments)}}(),S=function(e){var t=document.querySelector(".error-message");t.style.display="block",t.textContent=e};return r.a.createElement("div",{className:"login-container"},r.a.createElement("div",{className:"welcome-container"},r.a.createElement("h1",{className:"welcome-text"},"Welcome to Blackboard")),r.a.createElement("div",{className:"login-box"},r.a.createElement("input",{onChange:function(e){c(e.target.value)},className:"login-username",type:"text",placeholder:"Username..."}),r.a.createElement("input",{onChange:function(e){d(e.target.value)},className:"login-email",type:"text",placeholder:"Email..."}),r.a.createElement("input",{onChange:function(e){C(e.target.value)},className:"login-password",type:"text",placeholder:"Password..."}),r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{className:"btn-secondary",onClick:function(t,n){if(l&&m&&b)try{y(),e.createUserWithEmailAndPassword(m,b).then((function(e){var t={username:l,email:m,id:e.user.uid,signedAsAnonymous:!1,signedAsUser:!0};fetch(g,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){N(),e.ok?O({type:"INIT_USER",user:t}):S("Unknown error")})).catch((function(e){N(),S(e.message)}))})).catch((function(e){N(),S(e.message)}))}catch(a){S(a.message)}else S("All fields are required to create a new user.")}},"Create"),r.a.createElement("button",{className:"btn-primary",onClick:L},"Sign In"),r.a.createElement("button",{className:"btn-dark",onClick:function(){y();N(),O({type:"INIT_USER",user:{username:"Anonymous",email:"",id:"",signedAsAnonymous:!0,signedAsUser:!1}})}},"Post Anonymously")),r.a.createElement("p",{className:"warning-text error-message"})))},D=n(88);i.a.auth();var R=function(){var e=p(),t=Object(s.a)(e,2),n=t[0],a=n.user,l=n.isLoading,c=(t[1],l?"loading-icon loading-visible":"loading-icon loading-hidden");return a.signedAsAnonymous||a.signedAsUser?r.a.createElement("div",{className:"app-container"},r.a.createElement(D.a,{size:100,className:c}),r.a.createElement(v,null),r.a.createElement(I,null),r.a.createElement(T,null)):r.a.createElement("div",{className:"app-container"},r.a.createElement(D.a,{size:100,className:c}),r.a.createElement(k,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _=function(e,t){switch(t.type){case"INIT_WALL":return Object(O.a)(Object(O.a)({},e),{},{posts:t.posts});case"INIT_USER":return Object(O.a)(Object(O.a)({},e),{},{user:t.user});case"ADD_POST":return Object(O.a)(Object(O.a)({},e),{},{posts:[t.post].concat(Object(N.a)(e.posts))});case"DELETE_POST":var n=e.posts.findIndex((function(e){return e.id===t.id})),a=Object(N.a)(e.posts);return n>=0&&a.splice(n,1),Object(O.a)(Object(O.a)({},e),{},{posts:a});case"EDIT_POST":var r=Object(N.a)(e.posts).map((function(e){return e.id===t.id?t.post:e}));return Object(O.a)(Object(O.a)({},e),{},{posts:r});case"SIGN_IN":case"SIGN_OUT":return Object(O.a)(Object(O.a)({},e),{},{user:t.user});case"START_LOADING":return Object(O.a)(Object(O.a)({},e),{},{isLoading:!0});case"STOP_LOADING":return Object(O.a)(Object(O.a)({},e),{},{isLoading:!1});default:return e}};n(73);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(d,{initialState:{posts:[],user:{},isLoading:!1},reducer:_},r.a.createElement(R,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.60a3bdea.chunk.js.map